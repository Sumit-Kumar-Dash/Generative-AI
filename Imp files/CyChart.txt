import json
import openai
import os
import boto3
import logging
import io
import uuid
import re
import ast
import pandas as pd
from io import StringIO

s3 = boto3.client('s3')

bucket_name = 'chatgpt-bucket'
file_name = 'convert.csv'

logger = logging.getLogger()
logger.setLevel(logging.INFO)

# openai.api_key = os.environ["OPENAI_API_KEY"]
# openai.api_base="https://cychatopenai.openai.azure.com/"
# openai.api_type = 'azure'
# openai.api_version = '2023-05-15'

openai.api_key = "927e5de5e5204e0cb0ba834e663a5376"
openai.api_base="https://cychatjapaneast.openai.azure.com/"
openai.api_type = 'azure'
openai.api_version = '2023-05-15'


def lambda_handler(event, context):
    
    #user_id = json.loads(event['body'])
    #print(openai.__version__)
    print(event['body'])
    question = f"{json.loads(event['body'])['question']}"
    section = f"{json.loads(event['body'])['section']}"
    #question = "tell me all budget for project id 1-10. keep project_id in x-axis"
    #doc_id = json.loads(event['body'])['doc_id']
    
    obj = s3.get_object(Bucket=bucket_name, Key=file_name)
    #csv_content = response['Body'].read().decode('utf-8')
    
    context = '''
{"project_details":[
{"Project Name": "Project A","Budget": 50000,"Start Date": "2023-01-01","End Date": "2023-06-30","Number of Resources": 10,"Percentage Completed": 60,"Earned Value": 30000,"Actual Cost": 25000,"Planned Value": 40000,"Project Manager": "John","Risk":[{"risk": "Scope Creep","description": "Uncontrolled changes or additions to project scope that can lead to timeline and budget overruns.","mitigation_plan": "Establish a clear and detailed project scope at the beginning. Implement a formal change control process for any scope changes. Regularly review and approve scope changes with stakeholders.","impact": "Delays, budget overruns, decreased team morale."},{"risk": "Resource Shortage","description": "Inadequate availability of human resources, technology, or equipment required to complete the project.","mitigation_plan": "Conduct a thorough resource assessment before the project starts. Allocate resources based on skill sets and availability. Cross-train team members to handle multiple tasks. Have a backup plan for critical resources.","impact": "Delays, decreased productivity, compromised project quality."},{"risk": "Scope Uncertainty","description": "Unclear or evolving project scope that leads to confusion and changes in project objectives.","mitigation_plan": "Conduct thorough project scoping and requirements gathering. Define clear project objectives and deliverables. Involve key stakeholders in scope discussions. Use a change request process for scope adjustments.","impact": "Missed deadlines, increased costs, decreased project quality."}],"Lessons_learned":[{"lesson": "Clear Communication is Key","description": "Effective communication with stakeholders, team members, and clients is essential for project success. Miscommunication can lead to misunderstandings, scope changes, and missed deadlines.","action_items": ["Establish a communication plan with defined channels and frequency.","Regularly update stakeholders on project progress and changes.","Encourage open communication and active listening among team members."]},{"lesson": "Thorough Requirements Gathering","description": "Incomplete or unclear requirements can lead to scope changes and rework. Properly understanding and documenting user needs is critical to delivering the right solution.","action_items": ["Conduct comprehensive requirements workshops with stakeholders.","Use visualization techniques like wireframes and prototypes to validate requirements.","Regularly review and confirm requirements with stakeholders throughout the project."]},{"lesson": "Client Involvement","description": "Involving the client early and consistently throughout the project ensures that their needs are met and expectations are managed.","action_items": ["Regularly showcase progress to the client through demos or prototypes.","Seek client feedback at various project stages.","Set clear expectations and manage scope changes with the client."]}],"Change_Request":[{"change_request_id": "CR001","description": "Increase the font size of the user interface for better readability.","justification": "User feedback indicates that the current font size is causing readability issues, especially on smaller screens.","impact": "Improved user experience, better accessibility.","priority": "High","status": "Pending Approval"},{"change_request_id": "CR002","description": "Add a new feature to allow users to reset their passwords through email.",    "impact": "Enhanced user self-service, reduced support requests.","priority": "Medium","status": "Approved"}]},

{"Project Name": "Project B","Budget": 75000,"Start Date": "2023-02-15","End Date": "2023-09-30","Number of Resources": 15,"Percentage Completed": 80,"Earned Value": 60000,"Actual Cost": 60000,"Planned Value": 75000,"Project Manager": "Emily","Lessons_learned":[{"lesson": "Effective Risk Management","description": "Proactively identifying and managing risks helps prevent potential issues from becoming major problems. Ignoring risks can lead to costly delays and failures.","action_items": ["Conduct a thorough risk assessment during project planning.","Develop risk response plans and regularly review them.","Encourage the team to report and address risks as they arise."]},{"lesson": "Flexible Project Planning","description": "Project plans should be adaptable to changes. Rigidity can hinder progress when unforeseen events occur.","action_items": ["Build flexibility into project schedules to accommodate unexpected delays.","Use agile methodologies for iterative development and responsiveness.","Regularly review and adjust project plans as needed."]},],"Risk":[{"risk": "Communication Breakdown","description": "Lack of clear communication among team members, stakeholders, or management.","mitigation_plan": "Establish a communication plan outlining channels, frequency, and recipients of project updates. Use collaboration tools to facilitate communication. Hold regular status meetings to address concerns and disseminate information.","impact": "Misunderstandings, missed deadlines, confusion."},{"risk": "Vendor/Supplier Issues","description": "Problems with external vendors or suppliers that can disrupt the supply chain or delivery of necessary components.","mitigation_plan": "Thoroughly vet and select reliable vendors. Have backup vendors identified. Include penalty clauses in contracts for delivery delays. Maintain open communication with vendors to address issues promptly.","impact": "Delays, increased project costs, compromised project quality."}],"Change_Request":[{"change_request_id": "CR003","description": "Extend the project timeline by two weeks due to unexpected delays in data migration.","justification": "The data migration process encountered technical challenges that require additional time for resolution.","impact": "Maintain project quality, avoid rushing through critical tasks.","priority": "High","status": "Under Review"},{"change_request_id": "CR004","description": "Replace the current payment gateway with a more cost-effective solution.","justification": "Market research shows that a different payment gateway offers lower transaction fees and better integration options.","impact": "Reduced operational costs, potential improved payment processing.","priority": "High","status": "Rejected"}]},

{"Project Name": "Project C","Budget": 30000,"Start Date": "2023-03-20","End Date": "2023-12-15","Number of Resources": 8,"Percentage Completed": 40,"Earned Value": 12000,"Actual Cost": 14000,"Planned Value": 18000,"Project Manager": "David","Lessons_learned":[{"lesson": "Empowered and Skilled Team","description": "A capable and motivated team is crucial. Empower team members with the authority to make decisions and provide opportunities for skill development.","action_items": ["Assign tasks based on team members' strengths and expertise.","Provide ongoing training and opportunities for professional growth.","Encourage a collaborative and supportive team environment."]},{"lesson": "Effective Stakeholder Engagement","description": "Engaging stakeholders throughout the project lifecycle ensures alignment, reduces misunderstandings, and increases support.","action_items": ["Identify key stakeholders and their roles early in the project.","Regularly involve stakeholders in decision-making processes.","Address concerns and gather feedback to maintain stakeholder satisfaction."]},{"lesson": "Continuous Improvement Mindset","description": "Adopting a mindset of continuous improvement helps identify areas for enhancement in processes, methodologies, and project outcomes.","action_items": ["Encourage team members to share suggestions and ideas for improvement.","Regularly assess project management practices and adapt them as needed.","Create a culture that values innovation and learning from experience."]},{"lesson": "Engage Lessons from Previous Projects","description": "Leveraging insights and experiences from previous projects helps avoid repeating mistakes and streamlines future endeavors.","action_items": ["Regularly review lessons learned from past projects.","Identify recurring issues and challenges and develop strategies to address them.","Encourage cross-project knowledge sharing and collaboration."]}],"Risk":[{"risk": "Unrealistic Deadlines","description": "Setting project deadlines that are too aggressive and don't consider the complexity of the tasks.","mitigation_plan": "Conduct a thorough project estimation and planning phase. Involve relevant team members in setting deadlines. Buffer extra time for unexpected issues. Regularly review and adjust deadlines as needed.","impact": "Quality compromise, burnout among team members, missed deadlines."},{"risk": "Stakeholder Conflicts","description": "Disagreements or conflicting priorities among project stakeholders that can hinder decision-making and progress.","mitigation_plan": "Identify key stakeholders early and engage them in project planning. Conduct regular stakeholder meetings to address concerns. Use conflict resolution techniques to resolve disagreements. Maintain open and transparent communication.","impact": "Delays, scope changes, decreased stakeholder engagement."},{"risk": "Team Member Turnover","description": "Loss of key team members during the project, leading to knowledge gaps and disruptions.","mitigation_plan": "Cross-train team members on critical tasks. Document processes and project knowledge. Foster a positive team environment to reduce turnover. Have a succession plan in place for key roles.","impact": "Delays, loss of expertise, decreased team morale."},{"risk": "Inadequate Quality Assurance","description": "Insufficient focus on quality control and assurance processes, leading to defects and rework.","mitigation_plan": "Implement a comprehensive quality assurance process. Define and document quality standards. Conduct regular testing and reviews. Allocate time and resources for thorough quality checks.","impact": "Defects, rework, compromised project deliverables."}],"Change_Request":[ {"change_request_id": "CR005","description": "Modify the project scope to include additional reporting functionalities.","justification": "Stakeholders have requested specific reporting capabilities to meet regulatory requirements.","impact": "Meeting stakeholder needs, increased project complexity.","priority": "Medium","status": "Approved"},{"change_request_id": "CR006","description": "Integrate a third-party analytics tool to track user behavior.","justification": "Enhancing data-driven decision-making requires more robust user behavior tracking.","impact": "Improved insights, better informed decisions.","priority": "Medium","status": "Pending Approval"},{"change_request_id": "CR007","description": "Adjust project budget to allocate additional funds for marketing and promotion.","justification": "Market competition and changing consumer trends necessitate increased marketing efforts.","impact": "Increased market visibility, potential revenue growth.","priority": "High","status": "Approved"},{"change_request_id": "CR008","description": "Change the project's target platform from iOS to cross-platform mobile app development.","justification": "Market analysis indicates a larger user base and improved reach with cross-platform development.","impact": "Wider user reach, potentially reduced development effort.","priority": "High","status": "Under Review"}]},

{"Project Name": "Project D","Budget": 90000,"Start Date": "2023-04-10","End Date": "2023-08-31","Number of Resources": 20,"Percentage Completed": 100,"Earned Value": 90000,"Actual Cost": 90000,"Planned Value": 90000,"Project Manager": "Susan","Lessons_learned":[{"lesson": "Regular Progress Tracking","description": "Frequent monitoring of project progress allows for early detection of issues and timely adjustments.","action_items": ["Implement a robust project tracking system for tasks and milestones.","Conduct regular status meetings to assess progress and address roadblocks.","Regularly review project metrics and key performance indicators."]},{"lesson": "Document Everything","description": "Thorough documentation of project processes, decisions, and changes helps maintain accountability and knowledge transfer.","action_items": ["Establish a standardized documentation process.","Document meetings, decisions, and project artifacts.","Maintain a centralized repository for easy access and sharing of documents."]},{"lesson": "Engage Lessons from Previous Projects","description": "Leveraging insights and experiences from previous projects helps avoid repeating mistakes and streamlines future endeavors.","action_items": ["Regularly review lessons learned from past projects.","Identify recurring issues and challenges and develop strategies to address them.","Encourage cross-project knowledge sharing and collaboration."]}],"Risk":[{"risk": "Lack of Subject Matter Expertise","description": "Insufficient knowledge or expertise within the team to handle specialized tasks required by the project.","mitigation_plan": "Identify critical skill gaps during project planning. Consider training or hiring experts for specific tasks. Encourage knowledge sharing among team members. Collaborate with external consultants if needed.","impact": "Delays, compromised project quality, increased reliance on external resources."},{"risk": "Technology Failures","description": "Malfunctions, breakdowns, or compatibility issues with technological tools or systems used in the project.","mitigation_plan": "Conduct thorough testing of technologies before implementation. Have backup systems and contingency plans in place. Provide training to team members on using the technology. Maintain technical support for quick issue resolution.","impact": "Delays, data loss, decreased team productivity."},{"risk": "Team Member Turnover","description": "Loss of key team members during the project, leading to knowledge gaps and disruptions.","mitigation_plan": "Cross-train team members on critical tasks. Document processes and project knowledge. Foster a positive team environment to reduce turnover. Have a succession plan in place for key roles.","impact": "Delays, loss of expertise, decreased team morale."},],"Change_Request":[{"change_request_id": "CR009","description": "Update the project schedule to accommodate team members' vacation requests.","justification": "Several team members have planned vacations that would overlap with critical project milestones.","impact": "Maintaining team morale, avoiding project delays.","priority": "Low","status": "Approved"},{"change_request_id": "CR010","description": "Incorporate additional security measures to address recent cybersecurity threats.","justification": "Recent cyber attacks highlight vulnerabilities that need immediate attention.","impact": "Enhanced security, reduced risk of data breaches.","priority": "High","status": "Pending Approval"},{"change_request_id": "CR011","description": "Adjust project scope to remove a non-critical feature due to time constraints.","justification": "Current timeline pressures require focusing on core features for timely delivery.","impact": "Faster delivery, reduced development complexity.","priority": "Medium","status": "Approved"}]},

{"Project Name": "Project E","Budget": 60000,"Start Date": "2023-05-05","End Date": "2023-11-30","Number of Resources": 12,"Percentage Completed": 70,"Earned Value": 42000,"Actual Cost": 40000,"Planned Value": 60000,"Project Manager": "Michael","Lessons_learned":[  {"lesson": "Effective Stakeholder Engagement","description": "Engaging stakeholders throughout the project lifecycle ensures alignment, reduces misunderstandings, and increases support.","action_items": ["Identify key stakeholders and their roles early in the project.","Regularly involve stakeholders in decision-making processes.","Address concerns and gather feedback to maintain stakeholder satisfaction."]},{"lesson": "Regular Progress Tracking","description": "Frequent monitoring of project progress allows for early detection of issues and timely adjustments.","action_items": ["Implement a robust project tracking system for tasks and milestones.","Conduct regular status meetings to assess progress and address roadblocks.","Regularly review project metrics and key performance indicators."]}],"Risk":[{"risk": "Resource Shortage","description": "Inadequate availability of human resources, technology, or equipment required to complete the project.","mitigation_plan": "Conduct a thorough resource assessment before the project starts. Allocate resources based on skill sets and availability. Cross-train team members to handle multiple tasks. Have a backup plan for critical resources.","impact": "Delays, decreased productivity, compromised project quality."},{"risk": "Communication Breakdown","description": "Lack of clear communication among team members, stakeholders, or management.","mitigation_plan": "Establish a communication plan outlining channels, frequency, and recipients of project updates. Use collaboration tools to facilitate communication. Hold regular status meetings to address concerns and disseminate information.","impact": "Misunderstandings, missed deadlines, confusion."}],"Change_Request":[ {"change_request_id": "CR012","description": "Update the project's technology stack to leverage newer tools and frameworks.","justification": "New technologies offer better performance, security, and maintainability.","impact": "Improved product quality, potential long-term benefits.","priority": "High","status": "Under Review"},{"change_request_id": "CR013","description": "Reallocate resources to prioritize testing and quality assurance efforts.","justification": "Quality concerns have arisen during development, necessitating increased testing efforts.","impact": "Improved product quality, reduced post-release defects.","priority": "High","status": "Approved"}]}

{"Project Name": "Project F","Budget": 45000,"Start Date": "2023-06-25","End Date": "2023-10-15","Number of Resources": 7,"Percentage Completed": 50,"Earned Value": 22500,"Actual Cost": 20000,"Planned Value": 30000,"Project Manager": "Jennifer","Lessons_learned":[{"lesson": "Clear Communication is Key","description": "Effective communication with stakeholders, team members, and clients is essential for project success. Miscommunication can lead to misunderstandings, scope changes, and missed deadlines.","action_items": ["Establish a communication plan with defined channels and frequency.","Regularly update stakeholders on project progress and changes.","Encourage open communication and active listening among team members."]},{"lesson": "Document Everything","description": "Thorough documentation of project processes, decisions, and changes helps maintain accountability and knowledge transfer.","action_items": ["Establish a standardized documentation process.","Document meetings, decisions, and project artifacts.","Maintain a centralized repository for easy access and sharing of documents."]},{"lesson": "Manage Expectations Effectively","description": "Setting clear expectations with stakeholders about project goals, timelines, and outcomes prevents misunderstandings and dissatisfaction.","action_items": ["Communicate project objectives and limitations clearly to all stakeholders.","Regularly update stakeholders on project progress and any changes.","Manage scope changes transparently and educate stakeholders about their implications."]},{"lesson": "Foster a Collaborative Culture","description": "Encouraging collaboration and open communication among team members enhances creativity, problem-solving, and overall project performance.","action_items": ["Create opportunities for team members to collaborate and share ideas.","Recognize and reward teamwork and collaboration.","Promote a culture where constructive feedback is valued and encouraged."]}],"Risk":[{"risk": "Communication Breakdown","description": "Lack of clear communication among team members, stakeholders, or management.","mitigation_plan": "Establish a communication plan outlining channels, frequency, and recipients of project updates. Use collaboration tools to facilitate communication. Hold regular status meetings to address concerns and disseminate information.","impact": "Misunderstandings, missed deadlines, confusion."},{"risk": "Vendor/Supplier Issues","description": "Problems with external vendors or suppliers that can disrupt the supply chain or delivery of necessary components.","mitigation_plan": "Thoroughly vet and select reliable vendors. Have backup vendors identified. Include penalty clauses in contracts for delivery delays. Maintain open communication with vendors to address issues promptly.","impact": "Delays, increased project costs, compromised project quality."},{"risk": "Team Member Turnover","description": "Loss of key team members during the project, leading to knowledge gaps and disruptions.","mitigation_plan": "Cross-train team members on critical tasks. Document processes and project knowledge. Foster a positive team environment to reduce turnover. Have a succession plan in place for key roles.","impact": "Delays, loss of expertise, decreased team morale."},{"risk": "Inadequate Quality Assurance","description": "Insufficient focus on quality control and assurance processes, leading to defects and rework.","mitigation_plan": "Implement a comprehensive quality assurance process. Define and document quality standards. Conduct regular testing and reviews. Allocate time and resources for thorough quality checks.","impact": "Defects, rework, compromised project deliverables."}],"Change_Request":[{"change_request_id": "CR014","description": "Extend project budget to hire an additional UI/UX designer for enhanced user experience.","justification": "User feedback indicates the need for improved user interface and usability.","impact": "Enhanced user satisfaction, better product adoption.","priority": "Medium","status": "Pending Approval"},{"change_request_id": "CR015","description": "Adjust project schedule to include more time for user acceptance testing.","justification": "User feedback and evolving requirements demand comprehensive testing before release.","impact": "Reduced post-release issues, improved user experience.","priority": "Medium","status": "Approved"},{"change_request_id": "CR016","description": "Modify project schedule to accommodate a new regulatory compliance requirement.","justification": "New regulations have been imposed that impact the project's deliverables and timeline.","impact": "Ensure legal compliance, avoid potential penalties.","priority": "High","status": "Approved"},{"change_request_id": "CR017","description": "Replace a third-party component with an in-house solution to reduce licensing costs.","justification": "Licensing fees for the third-party component are substantial and can be avoided with an internal solution.","impact": "Cost savings, potential increased control over the component.","priority": "Medium","status": "Under Review"}]}]}'''
    
    prompt = f'''You are a project management tool which helps user in getting different Project Management KPIs.
            Use the following piece of context which is in csv format to answer the question at the end. 
            Provide answer in the form of JSON Output.
            The output of JSON should be in the following format -
                {{ "data":[x1,x2,x3]
                   "labels":[y1,y2,y3]
                }}
            y elements must be a list of strings, or a number, which can be further used in chart.
            data will contain all x-elements in a list format and labels will have all y elements in a list format
            Just give me output in dictionary format so that it can be converted to dictionaryeasily. 
            Do not give any other text apart from dictionary format output.
            {context} 
            {question}'''
    conversation=[{"role": "system", "content": "You are a helpful assistant."},{"role": "user", "content": prompt}]
    if int(section) < 5 :
        response = openai.ChatCompletion.create(
            engine="gpt-4-japaneast",
            messages=conversation)
    else:
        response = openai.Completion.create(
            engine="text-davinci-003",
            prompt=f'''You are a project management tool which helps user in getting different Project Management KPIs.
            Use the following piece of context which is in csv format to answer the question at the end. 
            Provide answer in clear and concise way. Return the output always in bulletin format and keep each bulletin point in a new line.
            Do not give any other text apart from required output.
            {context} 
            {question}
            ''',
            max_tokens=500,
            temperature=0)
        response = str(response["choices"][0]["text"])
        if "<|im_end|>" in response:
            response = response.replace("<|im_end|>", "")
        if "\n" in response:
            response = response.replace("\n", "")
        print(f"Response is {response}")
        return response
           
    response = str(response["choices"][0]["text"])
    if "<|im_end|>" in response:
        response = response.replace("<|im_end|>", "")
    if "\n" in response:
        response = response.replace("\n", "")
    index = response.find("{")
    print(index)
    if index != -1:
        result = response[index:]
    else:
        result = response
    print(result)


    return {'output':json.loads(result)}



{"project_details":[
{"Project Name": "Project A","Budget": 50000,"Start Date": "2023-01-01","End Date": "2023-06-30","Number of Resources": 10,"Percentage Completed": 60,"Earned Value": 30000,"Actual Cost": 25000,"Planned Value": 40000,"Project Manager": "John","Risk":[{"risk": "Scope Creep","description": "Uncontrolled changes or additions to project scope that can lead to timeline and budget overruns.","mitigation_plan": "Establish a clear and detailed project scope at the beginning. Implement a formal change control process for any scope changes. Regularly review and approve scope changes with stakeholders.","impact": "Delays, budget overruns, decreased team morale."},{"risk": "Resource Shortage","description": "Inadequate availability of human resources, technology, or equipment required to complete the project.","mitigation_plan": "Conduct a thorough resource assessment before the project starts. Allocate resources based on skill sets and availability. Cross-train team members to handle multiple tasks. Have a backup plan for critical resources.","impact": "Delays, decreased productivity, compromised project quality."}],"Lessons_learned":[{"lesson": "Clear Communication is Key","description": "Effective communication with stakeholders, team members, and clients is essential for project success. Miscommunication can lead to misunderstandings, scope changes, and missed deadlines.","action_items": ["Establish a communication plan with defined channels and frequency.","Regularly update stakeholders on project progress and changes.","Encourage open communication and active listening among team members."]},{"lesson": "Thorough Requirements Gathering","description": "Incomplete or unclear requirements can lead to scope changes and rework. Properly understanding and documenting user needs is critical to delivering the right solution.","action_items": ["Conduct comprehensive requirements workshops with stakeholders.","Use visualization techniques like wireframes and prototypes to validate requirements.","Regularly review and confirm requirements with stakeholders throughout the project."]}]},

{"Project Name": "Project B","Budget": 75000,"Start Date": "2023-02-15","End Date": "2023-09-30","Number of Resources": 15,"Percentage Completed": 80,"Earned Value": 60000,"Actual Cost": 60000,"Planned Value": 75000,"Project Manager": "Emily","Lessons_learned":[{"lesson": "Effective Risk Management","description": "Proactively identifying and managing risks helps prevent potential issues from becoming major problems. Ignoring risks can lead to costly delays and failures.","action_items": ["Conduct a thorough risk assessment during project planning.","Develop risk response plans and regularly review them.","Encourage the team to report and address risks as they arise."]},{"lesson": "Flexible Project Planning","description": "Project plans should be adaptable to changes. Rigidity can hinder progress when unforeseen events occur.","action_items": ["Build flexibility into project schedules to accommodate unexpected delays.","Use agile methodologies for iterative development and responsiveness.","Regularly review and adjust project plans as needed."]},],"Risk":[{"risk": "Communication Breakdown","description": "Lack of clear communication among team members, stakeholders, or management.","mitigation_plan": "Establish a communication plan outlining channels, frequency, and recipients of project updates. Use collaboration tools to facilitate communication. Hold regular status meetings to address concerns and disseminate information.","impact": "Misunderstandings, missed deadlines, confusion."},{"risk": "Vendor/Supplier Issues","description": "Problems with external vendors or suppliers that can disrupt the supply chain or delivery of necessary components.","mitigation_plan": "Thoroughly vet and select reliable vendors. Have backup vendors identified. Include penalty clauses in contracts for delivery delays. Maintain open communication with vendors to address issues promptly.","impact": "Delays, increased project costs, compromised project quality."}]},

{"Project Name": "Project C","Budget": 30000,"Start Date": "2023-03-20","End Date": "2023-12-15","Number of Resources": 8,"Percentage Completed": 40,"Earned Value": 12000,"Actual Cost": 14000,"Planned Value": 18000,"Project Manager": "David","Lessons_learned":[{"lesson": "Empowered and Skilled Team","description": "A capable and motivated team is crucial. Empower team members with the authority to make decisions and provide opportunities for skill development.","action_items": ["Assign tasks based on team members' strengths and expertise.","Provide ongoing training and opportunities for professional growth.","Encourage a collaborative and supportive team environment."]},{"lesson": "Effective Stakeholder Engagement","description": "Engaging stakeholders throughout the project lifecycle ensures alignment, reduces misunderstandings, and increases support.","action_items": ["Identify key stakeholders and their roles early in the project.","Regularly involve stakeholders in decision-making processes.","Address concerns and gather feedback to maintain stakeholder satisfaction."]}],"Risk":[{"risk": "Unrealistic Deadlines","description": "Setting project deadlines that are too aggressive and don't consider the complexity of the tasks.","mitigation_plan": "Conduct a thorough project estimation and planning phase. Involve relevant team members in setting deadlines. Buffer extra time for unexpected issues. Regularly review and adjust deadlines as needed.","impact": "Quality compromise, burnout among team members, missed deadlines."},{"risk": "Stakeholder Conflicts","description": "Disagreements or conflicting priorities among project stakeholders that can hinder decision-making and progress.","mitigation_plan": "Identify key stakeholders early and engage them in project planning. Conduct regular stakeholder meetings to address concerns. Use conflict resolution techniques to resolve disagreements. Maintain open and transparent communication.","impact": "Delays, scope changes, decreased stakeholder engagement."}]},

{"Project Name": "Project D","Budget": 90000,"Start Date": "2023-04-10","End Date": "2023-08-31","Number of Resources": 20,"Percentage Completed": 100,"Earned Value": 90000,"Actual Cost": 90000,"Planned Value": 90000,"Project Manager": "Susan","Lessons_learned":[{"lesson": "Regular Progress Tracking","description": "Frequent monitoring of project progress allows for early detection of issues and timely adjustments.","action_items": ["Implement a robust project tracking system for tasks and milestones.","Conduct regular status meetings to assess progress and address roadblocks.","Regularly review project metrics and key performance indicators."]},{"lesson": "Document Everything","description": "Thorough documentation of project processes, decisions, and changes helps maintain accountability and knowledge transfer.","action_items": ["Establish a standardized documentation process.","Document meetings, decisions, and project artifacts.","Maintain a centralized repository for easy access and sharing of documents."]}],"Risk":[{"risk": "Lack of Subject Matter Expertise","description": "Insufficient knowledge or expertise within the team to handle specialized tasks required by the project.","mitigation_plan": "Identify critical skill gaps during project planning. Consider training or hiring experts for specific tasks. Encourage knowledge sharing among team members. Collaborate with external consultants if needed.","impact": "Delays, compromised project quality, increased reliance on external resources."},{"risk": "Technology Failures","description": "Malfunctions, breakdowns, or compatibility issues with technological tools or systems used in the project.","mitigation_plan": "Conduct thorough testing of technologies before implementation. Have backup systems and contingency plans in place. Provide training to team members on using the technology. Maintain technical support for quick issue resolution.","impact": "Delays, data loss, decreased team productivity."}],},

{"Project Name": "Project E","Budget": 60000,"Start Date": "2023-05-05","End Date": "2023-11-30","Number of Resources": 12,"Percentage Completed": 70,"Earned Value": 42000,"Actual Cost": 40000,"Planned Value": 60000,"Project Manager": "Michael","Lessons_learned":[  {"lesson": "Effective Stakeholder Engagement","description": "Engaging stakeholders throughout the project lifecycle ensures alignment, reduces misunderstandings, and increases support.","action_items": ["Identify key stakeholders and their roles early in the project.","Regularly involve stakeholders in decision-making processes.","Address concerns and gather feedback to maintain stakeholder satisfaction."]},{"lesson": "Regular Progress Tracking","description": "Frequent monitoring of project progress allows for early detection of issues and timely adjustments.","action_items": ["Implement a robust project tracking system for tasks and milestones.","Conduct regular status meetings to assess progress and address roadblocks.","Regularly review project metrics and key performance indicators."]}],"Risk":[{"risk": "Resource Shortage","description": "Inadequate availability of human resources, technology, or equipment required to complete the project.","mitigation_plan": "Conduct a thorough resource assessment before the project starts. Allocate resources based on skill sets and availability. Cross-train team members to handle multiple tasks. Have a backup plan for critical resources.","impact": "Delays, decreased productivity, compromised project quality."},{"risk": "Communication Breakdown","description": "Lack of clear communication among team members, stakeholders, or management.","mitigation_plan": "Establish a communication plan outlining channels, frequency, and recipients of project updates. Use collaboration tools to facilitate communication. Hold regular status meetings to address concerns and disseminate information.","impact": "Misunderstandings, missed deadlines, confusion."}],},

{"Project Name": "Project F","Budget": 45000,"Start Date": "2023-06-25","End Date": "2023-10-15","Number of Resources": 7,"Percentage Completed": 50,"Earned Value": 22500,"Actual Cost": 20000,"Planned Value": 30000,"Project Manager": "Jennifer","Lessons_learned":[{"lesson": "Clear Communication is Key","description": "Effective communication with stakeholders, team members, and clients is essential for project success. Miscommunication can lead to misunderstandings, scope changes, and missed deadlines.","action_items": ["Establish a communication plan with defined channels and frequency.","Regularly update stakeholders on project progress and changes.","Encourage open communication and active listening among team members."]},{"lesson": "Document Everything","description": "Thorough documentation of project processes, decisions, and changes helps maintain accountability and knowledge transfer.","action_items": ["Establish a standardized documentation process.","Document meetings, decisions, and project artifacts.","Maintain a centralized repository for easy access and sharing of documents."]}],"Risk":[{"risk": "Communication Breakdown","description": "Lack of clear communication among team members, stakeholders, or management.","mitigation_plan": "Establish a communication plan outlining channels, frequency, and recipients of project updates. Use collaboration tools to facilitate communication. Hold regular status meetings to address concerns and disseminate information.","impact": "Misunderstandings, missed deadlines, confusion."},{"risk": "Vendor/Supplier Issues","description": "Problems with external vendors or suppliers that can disrupt the supply chain or delivery of necessary components.","mitigation_plan": "Thoroughly vet and select reliable vendors. Have backup vendors identified. Include penalty clauses in contracts for delivery delays. Maintain open communication with vendors to address issues promptly.","impact": "Delays, increased project costs, compromised project quality."}]},

{"Project Name": "Project G","Budget": 80000,"Start Date": "2023-07-18","End Date": "2023-12-31","Number of Resources": 18,"Percentage Completed": 90,"Earned Value": 72000,"Actual Cost": 80000,"Planned Value": 80000,"Project Manager": "Daniel","Lessons_learned":[],"Risk":[{"risk": "Vendor/Supplier Issues","description": "Problems with external vendors or suppliers that can disrupt the supply chain or delivery of necessary components.","mitigation_plan": "Thoroughly vet and select reliable vendors. Have backup vendors identified. Include penalty clauses in contracts for delivery delays. Maintain open communication with vendors to address issues promptly.","impact": "Delays, increased project costs, compromised project quality."},{"risk": "Unrealistic Deadlines","description": "Setting project deadlines that are too aggressive and don't consider the complexity of the tasks.","mitigation_plan": "Conduct a thorough project estimation and planning phase. Involve relevant team members in setting deadlines. Buffer extra time for unexpected issues. Regularly review and adjust deadlines as needed.","impact": "Quality compromise, burnout among team members, missed deadlines."}]}]}
	
 {
"name": "NTD - DCM Alarm - Card - Co-processor - Input PCR Accuracy Errors",
"tags": ["imported", "gpt"],
"content": "
",
"causes": [
{
"id": 0,
"name": "Incorrect configuration settings",
"probability": "0.3"
},
{
"id": 1,
"name": "Faulty co-processor card",
"probability": "0.25"
},
{
"id": 2,
"name": "Interference in the signal transmission",
"probability": "0.2"
},
{
"id": 3,
"name": "Incompatible firmware version",
"probability": "0.15"
},
{
"id": 4,
"name": "Insufficient power supply to the co-processor card",
"probability": "0.1"
}
],
"actions": [
{
"id": 0,
"name": "Check and adjust configuration settings",
"time": "PT1H",
"money": 0,
"is_progress": false,
"solves": [0],
"content": "
"
},
{
"id": 1,
"name": "Replace the faulty co-processor card",
"time": "PT2H",
"money": 0,
"is_progress": false,
"solves": [1],
"content": "
"
},
{
"id": 2,
"name": "Investigate and eliminate signal interference sources",
"time": "PT3H",
"money": 0,
"is_progress": false,
"solves": [2],
"content": "
"
},
{
"id": 3,
"name": "Update the firmware to the compatible version",
"time": "PT2H",
"money": 0,
"is_progress": false,
"solves": [3],
"content": "
"
},
{
"id": 4,